public EnrollmentResponseDto createEnrollment(CreateEnrollmentRequestDto create){
        Optional<Enrollment> student = enrollmentRepo.findById(create.getStudentId());
        Optional<Enrollment> subject  = enrollmentRepo.findById(create.getSubjectId());

        if(!student.isPresent() && !subject.isPresent()){
        }




Quick rule to remember

@NotBlank → String only

@NotNull → Objects, entities, IDs

@NotEmpty → Collections, arrays, strings


REPLACED THESE THREE WITH:

      List<Enrollment> findByStudentAndStatusIn(Student studentId, List<EnrollmentStatusEnum> statuses);

[
  [

       public List<EnrollmentResponseDto> getActiveEnrollmentsByStudentId(Long id){
              Student student = studentRepo.findById(id)
                      .orElseThrow(() -> new StudentNotFoundException(id));

              List<Enrollment> enrollments = enrollmentRepo.findByStudentAndStatus(student, ACTIVE);

              List<EnrollmentResponseDto> responses = new ArrayList<>();

              for(Enrollment enrollment: enrollments){
                  EnrollmentResponseDto responseDto = mapToResponse(enrollment);
                  responses.add(responseDto);
              }
              return responses;
          }

          public List<EnrollmentResponseDto> getCompletedEnrollmentsByStudent(Long id){
              Student student = studentRepo.findById(id)
                      .orElseThrow(() -> new StudentNotFoundException(id));

              List<Enrollment> enrollments = enrollmentRepo.findByStudentAndStatus(student, COMPLETED);

              List<EnrollmentResponseDto> responses = new ArrayList<>();

              for(Enrollment enrollment: enrollments) {
                  EnrollmentResponseDto responseDto = mapToResponse(enrollment);
                  responses.add(responseDto);
              }
              return responses;
          }

          public List<EnrollmentResponseDto> getDroppedEnrollmentsByStudent(Long id){
              Student student = studentRepo.findById(id)
                      .orElseThrow(() -> new StudentNotFoundException(id));

              List<Enrollment> enrollments = enrollmentRepo.findByStudentAndStatus(student, DROPPED);

              List<EnrollmentResponseDto> responses = new ArrayList<>();

              for(Enrollment enrollment: enrollments){
                  EnrollmentResponseDto responseDto = mapToResponse(enrollment);
                  responses.add(responseDto);
              }
              return responses;
          }

  ]
]